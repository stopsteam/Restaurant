{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jenyagrehova/Desktop/React-App-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jenyagrehova/Desktop/React-App-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/jenyagrehova/Desktop/React-App-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jenyagrehova/Desktop/React-App-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jenyagrehova/Desktop/React-App-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jenyagrehova/Desktop/React-App-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment,PureComponent}from'react';import{connect}from'react-redux';import Florist from'../Florist/Florist';import{getFlorists,addFlorist}from'../../model/model';import{downloadOrdersDataAction,addFloristAction}from'../../store/actions';import'./App.css';var App=/*#__PURE__*/function(_PureComponent){_inherits(App,_PureComponent);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={isInputActive:false,inputValue:''};_this.inputFlorist=function(){_this.setState({isInputActive:true});};_this.onKeyDown=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var orderArrName,orderArr;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(event.key==='Escape'){_this.setState({isInputState:false,inputValue:''});}if(!(event.key==='Enter')){_context.next=8;break;}orderArrName=_this.state.inputValue;_this.setState({isInputState:false,inputValue:''});orderArr={name:orderArrName,orders:[]};_context.next=7;return addFlorist(orderArr);case 7:_this.props.addFloristDispatch(orderArr);case 8:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.onInputChange=function(event){_this.setState({inputValue:event.target.value});};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var florists;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return getFlorists();case 2:florists=_context2.sent;this.props.downloadOrdersDataDispatch(florists);case 4:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this$state=this.state,inputValue=_this$state.inputValue,isInputActive=_this$state.isInputActive;return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"header\",{id:\"main-header\",children:\"Flower Shop\"}),/*#__PURE__*/_jsxs(\"main\",{id:\"main-container\",children:[this.props.florists.map(function(orderArr,index){return/*#__PURE__*/_jsx(Florist,{orderArrId:index},\"orderarr-\".concat(index));}),/*#__PURE__*/_jsxs(\"div\",{className:\"orderarr\",children:[isInputActive&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"add-orderarr-input\",placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0432\\u0430\\u043A\\u0430\\u043D\\u0441\\u0438\\u0438 \",value:inputValue,onChange:this.onInputChange,onKeyDown:this.onKeyDown}),!isInputActive&&/*#__PURE__*/_jsx(\"header\",{className:\"orderarr-name\",onClick:this.inputFlorist,children:\"\\u041D\\u041E\\u0412\\u0410\\u042F \\u0412\\u0410\\u041A\\u0410\\u041D\\u0421\\u0418\\u042F\"})]})]})]});}}]);return App;}(PureComponent);var mapStateToProps=function mapStateToProps(_ref2){var florists=_ref2.florists;return{florists:florists};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{addFloristDispatch:function addFloristDispatch(orderArr){return dispatch(addFloristAction(orderArr));},downloadOrdersDataDispatch:function downloadOrdersDataDispatch(florists){return dispatch(downloadOrdersDataAction(florists));}};};export default connect(mapStateToProps,mapDispatchToProps)(App);","map":{"version":3,"sources":["/Users/jenyagrehova/Desktop/React-App-master/src/components/App/App.jsx"],"names":["Fragment","PureComponent","connect","Florist","getFlorists","addFlorist","downloadOrdersDataAction","addFloristAction","App","state","isInputActive","inputValue","inputFlorist","setState","onKeyDown","event","key","isInputState","orderArrName","orderArr","name","orders","props","addFloristDispatch","onInputChange","target","value","florists","downloadOrdersDataDispatch","map","index","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import { Fragment, PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport Florist from '../Florist/Florist';\n\nimport { getFlorists, addFlorist } from '../../model/model';\n\nimport { downloadOrdersDataAction, addFloristAction } from '../../store/actions';\nimport './App.css';\n\nclass App extends PureComponent {\n\n    state = {\n        isInputActive: false,\n        inputValue: ''\n    };\n\n    async componentDidMount() {\n        const florists = await getFlorists();\n        this.props.downloadOrdersDataDispatch(florists);\n    }\n\n    inputFlorist = () => {\n        this.setState({\n            isInputActive: true\n        });\n    }\n\n    onKeyDown = async (event) => {\n        if (event.key === 'Escape') {\n          this.setState({\n            isInputState: false,\n            inputValue: ''\n          });\n        }\n    \n        if (event.key === 'Enter') {\n            const orderArrName = this.state.inputValue;\n\n            this.setState({\n                isInputState: false,\n                inputValue: ''\n            })\n            const orderArr = { name: orderArrName, orders: [] };\n            await addFlorist(orderArr);\n            this.props.addFloristDispatch(orderArr);\n        }\n    }\n    \n    onInputChange = (event) => {\n        this.setState({\n            inputValue: event.target.value\n        });\n    }\n\n    render() {\n        const { inputValue, isInputActive } = this.state;\n\n        return (\n            <Fragment>\n                <header id=\"main-header\">\n                    Flower Shop\n                </header>\n                <main id=\"main-container\">\n                    {this.props.florists.map((orderArr, index) => (\n                        <Florist key={`orderarr-${index}`} orderArrId={index}/>\n                    ))}\n                    <div className=\"orderarr\">\n                    {isInputActive && <input\n                        type=\"text\"\n                        id=\"add-orderarr-input\"\n                        placeholder=\"Название вакансии \"\n                        value={inputValue}\n                        onChange={this.onInputChange}\n                        onKeyDown={this.onKeyDown}\n                    />}\n                    {!isInputActive && <header className=\"orderarr-name\" onClick={this.inputFlorist}>\n                        НОВАЯ ВАКАНСИЯ\n                    </header>}\n                    </div>\n                </main>\n            </Fragment>\n        );\n    }\n}\n\nconst mapStateToProps = ({ florists }) => ({ florists });\n\nconst mapDispatchToProps = dispatch => ({\n    addFloristDispatch: (orderArr) => dispatch(addFloristAction(orderArr)),\n    downloadOrdersDataDispatch: (florists) => dispatch(downloadOrdersDataAction(florists)),\n});\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(App);\n"]},"metadata":{},"sourceType":"module"}